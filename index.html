<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<title>JSONT Tutorial</title>

		<script src="lib/codemirror.js"></script>
		<link rel="stylesheet" href="lib/codemirror.css">
		<link rel="stylesheet" href="theme/monokai.css">
		<link rel="stylesheet" href="styles/styles.css">
		<script src="mode/javascript/javascript.js"></script>
		<script src="mode/xml/xml.js"></script>
		<script src="mode/css/css.js"></script>
		<script src="mode/htmlmixed/htmlmixed.js"></script>
	</head>

	<body>
		
		<div id="editorOne">
			<div id="editor"></div>
			<button id="check">Submit Answer</button>
		</div>

		<div id="editorTwo">
			<div id="compare"></div>
		</div>

	</body>

	<script type="text/javascript">

		var inputArea = document.getElementById('editor');
		var compareArea = document.getElementById('compare');
		var button = document.getElementById('check');

		var editor = CodeMirror(function(elt){
			inputArea.parentNode.replaceChild(elt, inputArea);
		}, {
			value: 'begin typing',
  		lineNumbers: true,
  		mode: 'htmlmixed',
  		theme: 'monokai',
  		autofocus: true
		});

		var compareEditor = CodeMirror(function(elt){
			compareArea.parentNode.replaceChild(elt, compareArea);
		}, {
			value: '{.section website}\n<h1>{siteTitle}</h1>\n{.end}',
  		lineNumbers: true,
  		mode: 'htmlmixed',
  		theme: 'monokai',
  		autofocus: true
		});

		var answer = compareEditor.getValue().replace(\s+(?=[^\])}]*([\[({]|$)), '');
		var input;

		button.addEventListener('click', function(e){
			input = editor.getValue().replace(\s+(?=[^\])}]*([\[({]|$)), '');

			if(input == answer){
				alert('correct!');
			} else {
				alert('wrong LOL');
			}

		});



	</script>

</html>

